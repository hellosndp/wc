<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dr. K Arvinda Sagar – Digital Visiting Card</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex flex-col bg-gradient-to-br from-purple-200 via-blue-100 to-green-100 text-gray-800">

  <main class="px-4 sm:px-6 md:px-0 flex-grow">
    <div class="w-full max-w-md mx-auto mt-8 sm:mt-12 md:mt-16 mb-4 bg-white shadow-xl rounded-3xl overflow-hidden">
      <div class="p-6">
        
        <!-- Profile Top -->
        <div class="flex items-center space-x-4">
          <div class="relative">
            <img 
              id="doctorImage"
              src="https://imagesx.practo.com/providers/dr-k-arvinda-sagar-general-physician-hyderabad-d34d453e-a952-4ada-b407-249ad982a144.jpg?i_type=t_70x70-2x-webp"
              alt="Dr. K Arvinda Sagar"
              class="w-30 h-30 rounded-full border-4 border-white shadow-xl"
            />
          </div>
          <div>
            <div id="availabilityStatus" class="text-xs px-2 py-1 rounded-full font-semibold inline-block mb-1"></div>
            <h2 class="text-xl font-semibold">Dr. K Arvinda Sagar</h2>
            <p class="text-sm text-gray-500">MBBS, MS – General Surgery</p>
            <p class="text-sm text-purple-700 font-medium bg-purple-50 px-2 py-0.5 rounded-md inline-block w-fit">General Physician</p>
            <p class="text-sm text-blue-700 font-medium bg-blue-50 px-2 py-0.5 rounded-md inline-block w-fit mt-1">15+ years of Experience</p>
          </div>
        </div>

        <!-- Bio & Experience with More/Less -->
        <div class="mt-4 text-sm text-gray-600">
          <div id="bioText" class="transition-all duration-300"></div>
          <button id="toggleMore" onclick="toggleBio()" class="text-blue-600 hover:underline text-xs mt-1 hidden">More</button>
        </div>

        <!-- Consult CTA -->
        <a href="https://wa.me/918121872747" target="_blank" class="mt-4 inline-block bg-green-500 hover:bg-green-600 text-white text-center font-medium py-2 px-4 rounded-lg w-full transition">
          Consult Now
        </a>

        <hr class="my-6 border-t" />

        <!-- Contact & Location -->
        <div class="space-y-4 text-sm">
          <a href="tel:+918121872747" class="flex items-center text-blue-600 hover:underline">
            <img src="https://img.icons8.com/ios-filled/24/4caf50/phone.png" class="w-4 h-4 mr-2" alt="Phone Icon" />
            <span class="ml-2">+91 81218 72747</span>
          </a>
          <a href="mailto:lokeylitblog@gmail.com" class="flex items-center text-blue-600 hover:underline">
            <img src="https://img.icons8.com/ios-filled/24/2196f3/email.png" class="w-4 h-4 mr-2" alt="Email Icon" />
            <span class="ml-2">lokeylitblog@gmail.com</span>
          </a>
          <a href="https://www.google.com/maps?q=Sreshta+Multi+Speciality+Hospital+Ashok+Nagar+Sangareddy" target="_blank" class="flex items-center text-blue-600 hover:underline">
            <img src="https://img.icons8.com/ios-filled/24/f44336/marker.png" class="w-4 h-4 mr-2" alt="Location Icon" />
            <span class="ml-2">Sreshta Multi Speciality Hospital, Ashok Nagar, Sangareddy</span>
          </a>
          <a href="upi://pay?pa=hellosndp@okaxis&pn=Dr.KArvindaSagar&cu=INR" class="flex items-center text-blue-600 hover:underline">
            <img src="https://img.icons8.com/ios-filled/24/9c27b0/money-transfer.png" class="w-4 h-4 mr-2" alt="Pay Icon" />
            <span class="ml-2">Pay via UPI</span>
          </a>
          <!-- Weekly Timings -->
          <button onclick="toggleSchedule()" class="flex items-center text-blue-600 hover:underline">
            <img src="https://img.icons8.com/ios-filled/24/ff9800/calendar--v1.png" class="w-4 h-4 mr-2" alt="Schedule Icon" />
            <span class="ml-2">View Weekly Timings</span>
          </button>
          <ul id="schedule" class="hidden mt-2 text-sm text-gray-600">
            <li>Mon  : 09:30 AM – 02:00 PM, 05:00 PM – 09:00 PM</li>
            <li>Tue  : 09:30 AM – 02:00 PM, 05:00 PM – 09:00 PM</li>
            <li>Wed  : 09:30 AM – 02:00 PM, 05:00 PM – 09:00 PM</li>
            <li>Thu  : 09:30 AM – 02:00 PM, 05:00 PM – 09:00 PM</li>
            <li>Fri  : 09:30 AM – 02:00 PM, 05:00 PM – 09:00 PM</li>
            <li>Sat  : 09:30 AM – 02:00 PM, 05:00 PM – 09:00 PM</li>
            <li>Sun  : Not Available</li>
          </ul>
        </div>
      </div>

      <!-- Share Button -->
      <button
        onclick="shareCard()"
        class="mt-6 w-full flex items-center justify-center gap-2 text-sm font-medium text-blue-600 hover:underline rounded-b-lg py-2 transition">
        Share the Card
      </button>
    </div>
  </main>

  <footer class="mt-auto text-center text-sm text-gray-500 mb-4">
    Powered by 
    <a href="https://StethBook.com" target="_blank" class="text-blue-600 font-medium hover:underline">StethBook</a>
  </footer>

  <script>
    function toggleSchedule() {
      document.getElementById('schedule').classList.toggle('hidden');
    }

    function isWithinTimeRanges(timeRanges) {
      const now = new Date();
      const currentMinutes = now.getHours() * 60 + now.getMinutes();

      for (let range of timeRanges) {
        const [start, end] = range.split('–').map(t => t.trim());
        const [startHour, startMin] = parseTime(start);
        const [endHour, endMin] = parseTime(end);

        const startMinutes = startHour * 60 + startMin;
        const endMinutes = endHour * 60 + endMin;

        if (currentMinutes >= startMinutes && currentMinutes <= endMinutes) {
          return true;
        }
      }

      return false;
    }

    function parseTime(t) {
      const [time, modifier] = t.split(' ');
      let [hours, minutes] = time.split(':').map(Number);

      if (modifier === 'PM' && hours < 12) hours += 12;
      if (modifier === 'AM' && hours === 12) hours = 0;

      return [hours, minutes];
    }

    function updateAvailabilityStatus() {
      const timeSlots = ["09:30 AM – 02:00 PM", "05:00 PM – 11:59 PM"];
      const isAvailable = isWithinTimeRanges(timeSlots);
      const statusDiv = document.getElementById('availabilityStatus');

      if (isAvailable) {
        statusDiv.textContent = "Available Now";
        statusDiv.className = "text-xs px-2 py-1 rounded-full font-semibold inline-block mb-1 bg-green-100 text-green-600";
      } else {
        statusDiv.textContent = "Not Available";
        statusDiv.className = "text-xs px-2 py-1 rounded-full font-semibold inline-block mb-1 bg-gray-200 text-gray-500";
      }
    }

    const fullBioText = `
      Practicing at Sreshta Multi Speciality Hospital, Sangareddy. Offers expertise in minimally invasive surgery, laser fistula, inguinal hernia, circumcision, I&D etc. 
      He is known for his accurate diagnosis and a compassionate approach to patient care. Over the years, Dr. Sagar has successfully treated thousands of patients and continues to upgrade his skills through conferences and workshops. 
      His clinic is equipped with modern medical tools and follows strict hygiene protocols to ensure the safety and comfort of patients. In addition to clinical work, he actively contributes to community health programs and awareness campaigns.
    `;

    let isBioExpanded = false;
    const wordLimit = 20;

    function initializeBio() {
      const words = fullBioText.split(/\s+/);
      const bioDiv = document.getElementById("bioText");
      const toggleBtn = document.getElementById("toggleMore");

      if (words.length <= wordLimit) {
        bioDiv.innerHTML = fullBioText;
        toggleBtn.style.display = "none";
      } else {
        const limitedText = words.slice(0, wordLimit).join(" ") + "...";
        bioDiv.innerHTML = limitedText;
        toggleBtn.style.display = "inline";
      }
    }

    function toggleBio() {
      const bioDiv = document.getElementById("bioText");
      const toggleBtn = document.getElementById("toggleMore");

      if (isBioExpanded) {
        const words = fullBioText.split(/\s+/);
        const limitedText = words.slice(0, wordLimit).join(" ") + "...";
        bioDiv.innerHTML = limitedText;
        toggleBtn.textContent = "More";
      } else {
        bioDiv.innerHTML = fullBioText;
        toggleBtn.textContent = "Less";
      }

      isBioExpanded = !isBioExpanded;
    }

    updateAvailabilityStatus();
    initializeBio();

    function shareCard() {
      const cardLink = "https://StethBook.com";
      const message = `Check out Dr. K Arvinda Sagar’s digital card: ${cardLink}`;

      navigator.clipboard.writeText(cardLink).then(() => {
        console.log("Link copied to clipboard");
      });

      const whatsappURL = `https://wa.me/?text=${encodeURIComponent(message)}`;
      window.open(whatsappURL, "_blank");
    }
  </script>

</body>
</html>
